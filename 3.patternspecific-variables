.PHONY: all foo bar baz car cucci
b%: VAR = starts with f

VAR = global scope

all: foo bar car cucci
all: ; @echo In $@ VAR is $(VAR)

foo: ; @echo In $@ VAR is $(VAR)

bar: VAR = local scope
bar: baz
bar: ; @echo In $@ VAR is $(VAR)

baz: ; @echo In $@ VAR is $(VAR)

# baz is local scope
# bar start with f
# why, i guess because inline decclaration has preferece over pattern %

c%: VAR = starts with c
car: VAR = likil skipi
car: ; @echo In $@ VAR is $(VAR)

cucci: ; @echo In $@ VAR is $(VAR)

lib1_SRCS := $(wildcard lib1/*.c)
lib2_SRCS := $(wildcard lib2/*.c)

lib/special.o: CPPFLAGS += -Wcomment
lib/%.o: CPPFLAGS += -fast

lib1_OBJS := $(lib1_SRCS:.c=.o)
lib2+OBJS := $(lib2_SRCS:.c=.o)

.PHONY: all
all: $(lib1_OBJS) $(lib2_OBJS)

%.o: $.c; @$(COMPILE.C) -o $@ $<
